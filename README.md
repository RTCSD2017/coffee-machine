**软件需求规范文档**
**Software Requirements Specifications Document (SRS)**

- 项目名称：**咖啡机的嵌入式控制软件**

- 开发团队：RTCSDteam1

- 版本号：(1.0)	

- 日期： (10/21/2017)


# 1. 引言

## 1.1 编写目的

本文档用于指导自动咖啡机的嵌入式控制软件开发过程，与软件用户定义和明确软件的功能需求。本文档的目标读者为软件用户和软件开发项目组成员。

## 1.2 背景

### 1.2.1 立项目标
根据项目需求，按照基于模型的设计方法，完成从软件规格定义、概要设计、详细设计、单元测试、仿真验证的基本流程。



## 1.2 参考资料
-	《构建之法》
-	Mathworks官方文档；


# 2. 任务概述

## 2.1 目标
使自动咖啡机能够按照用户需求制作相应的咖啡。

## 2.2 用户的特点

面向广大的爱喝咖啡的普通用户。

## 2.3 假定和约束

- 开发期限：2017年11月完成软件开发。
- 开发流程：按照软件流程规范，进行需求分析文档撰写和评审、系统架构方案撰写和评审、单元模块代码开发和单元测试、软件集成测试、现场调试和bug修复等工作。

# 3. 需求规定

## 3.1 功能需求规定

### 3.1.1 功能1

#### 功能描述：自动提供空杯


#### 输入：两个光电传感器，开关信号。
#### 参数：cup_stock  ;  sensor1；switch。

#### 处理过程：当用户选择咖啡之后，若检测到库存是有空杯，且转盘下无空杯时，下落一个空杯。
#### 输出：motor1

### 3.1.2 功能2

#### 功能描述：转盘转移空杯


#### 输入：两个光电传感器
#### 参数：sensor1；sensor2。

#### 处理过程：当sensor1检测到有空杯下落时，转盘转半周，转盘下落，复位。
#### 输出：motor2；cylinder1。


### 3.1.3 功能3
#### 功能描述：传送带输送杯子


#### 输入：三个光电传感器
#### 参数：sensor2；sensor3；sensor4。

#### 处理过程：当sensor2检测到有空杯时，传送带运行，直到sensor3检测到空杯，停止转动，延时15s，继续运行，sensor4检测有空杯，传送带停止。
#### 输出：motor3。

### 3.1.4 功能4

#### 功能描述：提供热水


#### 输入：一个光电传感器，开关信号。
#### 参数：sensor3，switch 。

#### 处理过程：当开关信号非零且sensor3检测到有空杯时，打开水泵和加热装置，延时10s，关闭所有装置。
#### 输出：pump；heating。
### 3.1.5 功能5

#### 功能描述：提供配方


#### 输入：一个光电传感器，开关信号。
#### 参数：sensor3，switch 。

#### 处理过程：当开关信号非零且sensor3检测到有空杯时，根据不同的开关信号，打开不同的原料开关。
#### 输出：Milk；Sugar；Coffee。

### 3.1.6 功能6

#### 功能描述：搅拌咖啡


#### 输入：一个光电传感器。
#### 参数：sensor3 。

#### 处理过程：当sensor3检测到有空杯时，打开搅拌电机，持续10s，打开龙头。
#### 输出：Mix1；Tap1 。


## 3.2 性能需求的规定  

### 3.2.1 开放性和扩展性
后期需要开发出用户自定义界面，能让用户根据自己的偏好选择不同的配方和水温等。


## 3.3 输入输出要求

### 硬件接口：USB


### 软件接口：待定。




## 3.4 故障和错误处理要求





# 4. 运行环境规定
## 4.1 硬件设备及接口
STM32F429
## 4.2 软件平台及配置

MATLAB
